(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b089fe1"],{"0731":function(e,t,r){"use strict";var n=r("64b1"),a=r.n(n);a.a},"13d5":function(e,t,r){"use strict";var n=r("23e7"),a=r("d58f").left,i=r("a640"),o=r("ae40"),c=i("reduce"),s=o("reduce",{1:0});n({target:"Array",proto:!0,forced:!c||!s},{reduce:function(e){return a(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"64b1":function(e,t,r){},6859:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"page-title"},[r("h3",[e._v(e._s(e._f("localize")("planningTitle"))+" "),r("small",[e._v("("+e._s(e._f("localize")("consumptionCategory"))+")")])]),r("h4",{staticClass:"currency-header"},[e._v(e._s(e._f("currency")(e.info.bill,"RUB")))])]),e.loading?r("loader"):e.categories.length?r("section",e._l(e.Categories,(function(t){return r("div",{key:t.id},[r("p",[r("strong",[e._v(e._s(t.title))]),e._v(" "+e._s(e._f("currency")(t.spend))+" "+e._s(e._f("localize")("of"))+" "+e._s(e._f("currency")(t.limit))+" ")]),r("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip,expression:"c.tooltip"}],staticClass:"progress",attrs:{"data-position":"top"}},[r("div",{staticClass:"determinate ",class:[t.progressColor],style:{width:t.progress+"%"}})])])})),0):r("p",{staticClass:"center"},[e._v(e._s(e._f("localize")("noCategories"))+". "),r("router-link",{attrs:{to:"/categories"}},[e._v(e._s(e._f("localize")("addCategory")))])],1)],1)},a=[],i=(r("99af"),r("4de4"),r("d81d"),r("13d5"),r("5530")),o=(r("96cf"),r("1da1")),c=r("2f62"),s=r("5bb3"),l={name:"planning",metaInfo:function(){return{title:this.$title("planningTitle"),htmlAttrs:{lang:this.$lang("lang")}}},data:function(){return{loading:!0,Categories:[],Locale:""}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=[],n=[],!e.records.length){t.next=5;break}r=e.records,t.next=8;break;case 5:return t.next=7,e.$store.dispatch("fetchRecords");case 7:r=t.sent;case 8:if(!e.categories.length){t.next=12;break}n=e.categories,t.next=15;break;case 12:return t.next=14,e.$store.dispatch("fetchCategories");case 14:n=t.sent;case 15:e.Locale=e.info.locale,e.Categories=n.map((function(t){var n=r.filter((function(e){return e.categoryID===t.id})).filter((function(e){return"outcome"===e.type})).reduce((function(e,t){return e+ +t.amount}),0),a=100*n/t.limit,o=a>100?100:a,c=a<80?"green":a<=100?"yellow":"red",l=t.limit-n,u="";return"ru-RU"===e.Locale?u="".concat(l<0?"Превышение на":"Осталось"," ").concat(Object(s["a"])(Math.abs(l))):"en-US"===e.Locale&&(u="".concat(l<0?"Excess by":"Left"," ").concat(Object(s["a"])(Math.abs(l)))),Object(i["a"])(Object(i["a"])({},t),{},{progress:o,progressColor:c,spend:n,tooltip:u})})),e.loading=!1;case 18:case"end":return t.stop()}}),t)})))()},computed:Object(i["a"])({},Object(c["c"])(["info","records","categories"]))},u=l,f=(r("0731"),r("2877")),d=Object(f["a"])(u,n,a,!1,null,"4885cf0e",null);t["default"]=d.exports},d58f:function(e,t,r){var n=r("1c0b"),a=r("7b0b"),i=r("44ad"),o=r("50c4"),c=function(e){return function(t,r,c,s){n(r);var l=a(t),u=i(l),f=o(l.length),d=e?f-1:0,g=e?-1:1;if(c<2)while(1){if(d in u){s=u[d],d+=g;break}if(d+=g,e?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=g)d in u&&(s=r(s,u[d],d,l));return s}};e.exports={left:c(!1),right:c(!0)}}}]);
//# sourceMappingURL=chunk-5b089fe1.71dfe59b.js.map