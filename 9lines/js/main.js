"use strict";var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}svg4everybody(),function(){var e=function(e,t){var o;o=function(t,o){bowser[t]&&document.documentElement.classList.add("is-"+e+"-"+o)},t.forEach(function(e){var t=void 0,i=void 0;"string"==typeof e?(t=e,i=e):(t=e[0],i=e[1]),o(t,i)})};e("engine",["blink","gecko",["msedge","edge"],["msie","ie"],"webkit"]),e("device",["mobile","tablet"]),e("browser",["android","bada","blackberry","chrome","firefox","ios","kMeleon",["msedge","edge"],["msie","ie"],"opera","phantom","qupzilla","safari","sailfish",["samsungBrowser","samsung"],"seamonkey","silk","sleipnir","tizen","ucbrowser","vivaldi","webos",["yandexbrowser","yandex"]]),e("os",["android","bada","blackberry","chromeos","firefoxos","ipad","iphone","ipod","ios","linux","mac","windows","windowsphone","sailfish","tizen","webos"])}();var $window=$(window),$document=$(document),$html=$(document.documentElement),$body=$(document.body),Speedo=function(){function e(t){_classCallCheck(this,e),this.periodArrow=t.arrowPeriod,this.limitArrow=t.arrowLimit,this._complex=0,this._coef=0,this.interval,this.interval2,this.old=0;var o=$(".speedo-info__display > div");o.html('<span class="current" data-number="0">0</span><span class="new"></span>');var i=o.width(),r=o.height();o.css({width:i,height:r}).find("span").css({position:"absolute"}),this.fontSize=parseInt(o.css("font-size")),this.complex()}return _createClass(e,[{key:"currentComplex",value:function(){var t=0;$(".section-2 input[type=checkbox]:checked").each(function(){var e=+$(this).attr("data-complex");t+=e}),this._complex=t,this._coef=+(100*this._complex/e.complex).toFixed(2),this.speedArrow(this._coef),this.setDisplay(this._coef)}},{key:"complex",value:function(){var t=0;$(".section-2 input[type=checkbox]").each(function(){var e=+$(this).attr("data-complex");t+=e}),e.complex=t}},{key:"speedArrow",value:function(e){if(void 0===e||"number"!=typeof e&&"string"!=typeof e)console.error("Error! Set number!");else{0==(e=Number(e))?e=-14:e>this.limitArrow?this.interval||this.superArrow(e):this.stopSuperArrow();var t=1.8*e-90;$(".speedo__arrow").css("transform","rotate("+t+"deg)")}}},{key:"superArrow",value:function(e){var t=this;this.val=e,this.interval=setInterval(function(){t.val+=4*Math.random()-2,Math.abs(t.val-e)>2.5&&(t.val=e),t.speedArrow(t.val)},this.periodArrow)}},{key:"stopSuperArrow",value:function(){clearInterval(this.interval),this.interval=null}},{key:"setDisplay",value:function(e){void 0===e||"number"!=typeof e&&"string"!=typeof e||(e=parseInt(10*Number(e))),e>999&&(e=999),this.renderDisplay(e)}},{key:"renderDisplay",value:function(e){var t=this,o=47.5,i=.65*this.fontSize,r=void 0,n=$(".speedo-info__display"),s=e-this.old>0,a="";e<10?a="00":e<100&&(a="0"),r=(a+e).split(""),this.old=e,this.interval2=setInterval(function(){for(var e=!0,a=function(t){var a=$("div:eq("+t+") .current",n).attr("data-number");e&&Number(r[t])!==Number(a)&&(e=!1,s?((a=Number(a)+1)>9&&(a=0),$("div:eq("+t+") .current",n).attr("data-number",a),$("div:eq("+t+") .current",n).addClass("to-bottom").animate({top:i+"px",opacity:.1},o,function(){$(this).text(a).css({top:0,opacity:1}).removeClass("to-bottom")}),$("div:eq("+t+") .new",n).text(a).addClass("to-bottom").css({top:-i+"px",opacity:.1}).animate({top:0,opacity:1},o,function(){$(this).css({top:-i+"px",opacity:0}).removeClass("to-bottom")})):((a=Number(a)-1)<0&&(a=9),$("div:eq("+t+") .current",n).attr("data-number",a),$("div:eq("+t+") .current",n).addClass("to-top").animate({top:-i+"px",opacity:.2},o,function(){$(this).text(a).css({top:0,opacity:1}).removeClass("to-top")}),$("div:eq("+t+") .new",n).text(a).addClass("to-top").css({top:i+"px",opacity:.2}).animate({top:0,opacity:1},o,function(){$(this).css({top:i+"px",opacity:0}).removeClass("to-top")})))},c=0;c<r.length;c++)a(c);var l="";for(c=0;c<r.length;c++)l+=$("div:eq("+c+") .current",n).text();r.join("")===l&&t.stopRenderDisplay()},50)}},{key:"stopRenderDisplay",value:function(){clearInterval(this.interval2),this.interval2=null}}]),e}();Speedo.complex=0,$(function(){var e=new Speedo({arrowPeriod:200,arrowLimit:70});e.currentComplex(),$(".section-2 input[type=checkbox]").on("click",function(){e.interval>=0&&e.stopSuperArrow(),e.interval2>=0&&e.stopRenderDisplay(),e.currentComplex()})}),$(document).foundation();